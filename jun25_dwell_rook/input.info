
units
{
  mesh millimeter
}

geometry
{
  import_mesh true
  mesh_format abaqus
  mesh_file mesh.inp
  dim 3;
  reset_material_id true
  material_deposition true
  material_deposition_method scan_paths
  deposition_length 3.5e-3
  deposition_height 7.1e-4  
  deposition_width 3.5e-3
  deposition_time 50
  deposition_lead_time 0
  material_height 0.00;
}

physics
{
  thermal true
  mechanical false
}

boundary
{
  type convective;
}

refinement 
{
  n_refinements 0 ; Number of coarsening/refinement executed (uses Kelly's
                       ; error estimator)
  time_steps_between_refinement 200000 ; number of time steps after which
                                                 ; the refinement process is performed
}

materials
{
  n_materials 1

  property_format polynomial
  material_0
  {
    initial_temperature 300 ; [K]
    solid
    {
      specific_heat 500; [J/kg K]
      density 7750; [kg/m^3]
      thermal_conductivity_x 15 ; [W/m k]
      thermal_conductivity_y 15 ; [W/m k]
      thermal_conductivity_z 15 ; [W/m k]
      emissivity 0.05
      convection_heat_transfer_coef 10; [W/m^2 K]
    }
    
    liquid
    {
      specific_heat 500; [J/kg K]
      density 7750; [kg/m^3]
      thermal_conductivity_x 15 ; [W/m k]
      thermal_conductivity_y 15 ; [W/m k]
      thermal_conductivity_z 15 ; [W/m k]
      emissivity 0.05
      convection_heat_transfer_coef 10; [W/m^2 K]
    }

    solidus 1713; [K]
    liquidus 1803; [K]
    latent_heat 272000 ; [J/kg]
    radiation_temperature_infty 300 ; [K]
    convection_temperature_infty 300 ; [K] 
  }
}

sources
{
  n_beams 1

  beam_0
  {
    type goldak ; goldak (laser) or electron_beam 
    depth 3.5e-3; [m] maximum depth reached by the laser - MIGHT NEED TWEAKED
    diameter 3.5e-3 ; [m]
    scan_path_file scan_path.inp
    scan_path_file_format event_series
    absorption_efficiency 0.35 ; number between 0 and 1 equivalent to
                              ; energy_conversion_efficiency * control_efficiency
                              ; for an electron beam
    max_power 1.0 ; [W], current * voltage for an electron beam
  }
}

time_stepping
{
  method forward_euler ; Possibilities: backward_euler, implicit_midpoint,
                        ; crank_nicolson, sdirk2, forward_euler, rk_third_order,
                        ; rk_fourth_order, bogacki_shampine, dopri,
                        ; fehlberg, cash_karp
  scan_path_for_duration true
  time_step 5e-3 ; [s] 
}

post_processor
{
  filename_prefix solution_dwell
  time_steps_between_output 400
  additional_output_refinement 0
}

discretization
{
  thermal 
  {
    fe_degree 1
    quadrature gauss ; Optional parameter. Possibilities: gauss or lobatto
  }
  mechanical 
  {
    fe_degree 1
    quadrature gauss ; Optional parameter. Possibilities: gauss or lobatto
  }
}

profiling
{
  timer true
}

memory_space host ; Always run on the host
verbose_output true


